{"ast":null,"code":"var _jsxFileName = \"C:\\\\CollegeReviewZ\\\\Collegereviewz-Tool-main\\\\clients\\\\src\\\\pages\\\\AssessmentPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/AssessmentPage.jsx\n\nimport React, { useState } from \"react\";\nimport questions from \"../data/questions\";\nimport { runAssessment } from \"../api/assessment.api\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProfileForm from \"../components/ProfileForm\";\nimport { buildPayload } from \"../utils/payloadBuilder\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AssessmentPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [profileData, setProfileData] = useState({\n    age: \"\",\n    currentClass: \"\",\n    stream: \"\",\n    familyAnnualBudget: \"\",\n    educationLoanComfort: \"\",\n    coachingAffordability: false\n  });\n  const [answers, setAnswers] = useState({});\n  const handleSelect = (qid, optionIndex) => {\n    setAnswers(prev => ({\n      ...prev,\n      [qid]: optionIndex\n    }));\n  };\n  const isProfileComplete = Object.values(profileData).every(v => v !== \"\" && v !== null && v !== undefined);\n  const handleSubmit = async () => {\n    if (!isProfileComplete) {\n      alert(\"Please complete profile before assessment\");\n      return;\n    }\n    if (Object.keys(answers).length !== questions.length) {\n      alert(\"Please answer all questions\");\n      return;\n    }\n    const payload = buildPayload({\n      profileData,\n      answers\n    });\n    try {\n      const res = await runAssessment(payload);\n      navigate(\"/report\", {\n        state: res.data\n      });\n    } catch (err) {\n      var _err$response;\n      console.error(\"ASSESSMENT ERROR:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n      alert(\"Assessment failed — check console\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      maxWidth: 900,\n      margin: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Career Assessment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProfileForm, {\n      profileData: profileData,\n      setProfileData: setProfileData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Assessment Questions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), questions.map(q => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 25\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [q.id, \". \", q.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), q.options.map((opt, idx) => {\n        const label = typeof opt === \"string\" ? opt : opt.label;\n        return /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"block\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: q.id,\n            checked: answers[q.id] === idx,\n            onChange: () => handleSelect(q.id, idx)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), \" \", label]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this);\n      })]\n    }, q.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      style: {\n        padding: \"12px 30px\"\n      },\n      children: \"Submit Assessment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(AssessmentPage, \"DZ+MCeXcMRITs08+RVZef5FYKf0=\", false, function () {\n  return [useNavigate];\n});\n_c = AssessmentPage;\nexport default AssessmentPage;\nvar _c;\n$RefreshReg$(_c, \"AssessmentPage\");","map":{"version":3,"names":["React","useState","questions","runAssessment","useNavigate","ProfileForm","buildPayload","jsxDEV","_jsxDEV","AssessmentPage","_s","navigate","profileData","setProfileData","age","currentClass","stream","familyAnnualBudget","educationLoanComfort","coachingAffordability","answers","setAnswers","handleSelect","qid","optionIndex","prev","isProfileComplete","Object","values","every","v","undefined","handleSubmit","alert","keys","length","payload","res","state","data","err","_err$response","console","error","response","message","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","map","q","marginBottom","id","text","options","opt","idx","label","display","type","name","checked","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/CollegeReviewZ/Collegereviewz-Tool-main/clients/src/pages/AssessmentPage.jsx"],"sourcesContent":["// src/pages/AssessmentPage.jsx\n\nimport React, { useState } from \"react\";\nimport questions from \"../data/questions\";\nimport { runAssessment } from \"../api/assessment.api\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProfileForm from \"../components/ProfileForm\";\nimport { buildPayload } from \"../utils/payloadBuilder\";\n\nconst AssessmentPage = () => {\n  const navigate = useNavigate();\n\n  const [profileData, setProfileData] = useState({\n    age: \"\",\n    currentClass: \"\",\n    stream: \"\",\n    familyAnnualBudget: \"\",\n    educationLoanComfort: \"\",\n    coachingAffordability: false\n  });\n\n  const [answers, setAnswers] = useState({});\n\n  const handleSelect = (qid, optionIndex) => {\n    setAnswers(prev => ({\n      ...prev,\n      [qid]: optionIndex\n    }));\n  };\n\n  const isProfileComplete = Object.values(profileData).every(\n    v => v !== \"\" && v !== null && v !== undefined\n  );\n\n  const handleSubmit = async () => {\n    if (!isProfileComplete) {\n      alert(\"Please complete profile before assessment\");\n      return;\n    }\n\n    if (Object.keys(answers).length !== questions.length) {\n      alert(\"Please answer all questions\");\n      return;\n    }\n\n    const payload = buildPayload({\n      profileData,\n      answers\n    });\n\n    try {\n      const res = await runAssessment(payload);\n      navigate(\"/report\", { state: res.data });\n    } catch (err) {\n      console.error(\"ASSESSMENT ERROR:\", err.response?.data || err.message);\n      alert(\"Assessment failed — check console\");\n    }\n  };\n\n  return (\n    <div style={{ padding: 20, maxWidth: 900, margin: \"auto\" }}>\n      <h1>Career Assessment</h1>\n\n      <ProfileForm\n        profileData={profileData}\n        setProfileData={setProfileData}\n      />\n\n      <h2>Assessment Questions</h2>\n\n      {questions.map(q => (\n        <div key={q.id} style={{ marginBottom: 25 }}>\n          <p>\n            <strong>\n              {q.id}. {q.text}\n            </strong>\n          </p>\n\n          {q.options.map((opt, idx) => {\n            const label = typeof opt === \"string\" ? opt : opt.label;\n\n            return (\n              <label key={idx} style={{ display: \"block\" }}>\n                <input\n                  type=\"radio\"\n                  name={q.id}\n                  checked={answers[q.id] === idx}\n                  onChange={() => handleSelect(q.id, idx)}\n                />\n                {\" \"}{label}\n              </label>\n            );\n          })}\n        </div>\n      ))}\n\n      <button onClick={handleSubmit} style={{ padding: \"12px 30px\" }}>\n        Submit Assessment\n      </button>\n    </div>\n  );\n};\n\nexport default AssessmentPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}